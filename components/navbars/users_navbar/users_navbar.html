{% load static %}
{% load thumbnail %}

<ul class="navbar-nav navbar-right my-2 my-lg-0">
    <li class="nav-item dropdown">
        <a href="#" class="dropdown-toggle abcd nav-link" data-toggle="dropdown" role="button"
           aria-haspopup="true" aria-expanded="false">
            {% if not request.user.profile_pic %}
                <img src="{% static 'images/user.png' %}" alt="Micro profile pic">
            {% else %}
                {% thumbnail request.user.profile_pic "25x25" as im %}
                    <img src="{{ im.url }}">
                {% endthumbnail %}
            {% endif %}
            <b class="caret"></b>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
            {% if request.user.role == "ADMIN"  or request.user.is_superuser %}
                {% component "dropdown-item" item_ref="common:users_list" item_title="Users" %}
                {% component "dropdown-item" item_ref="common:api_settings" item_title="Settings" %}
            {% endif %}
            {% if request.user.email != "admin@micropyramid.com" %}
                {% component "dropdown-item" item_ref="common:change_password" item_title="Change Password" %}
            {% endif %}
                {% component "dropdown-item" item_ref="common:profile" item_title="Profile" %}
                {% component "dropdown-item" item_ref="common:logout" item_title="Logout" %}
        </div>
    </li>
</ul>
